<div id="collection-details" layout="column">
    
    <md-toolbar md-scroll-shrink class="md-primary" flex>
        <div class="md-toolbar-tools">
            <md-button class="md-icon-button" ng-click="close()">
                <md-icon>clear</md-icon>
            </md-button>
        </div>
        
        <div class="title-content">
            <h6 flex>Collection</h6>
            <h2 flex>{{ collection.name }}</h2>
        </div>
        
        <md-subheader class="md-no-sticky" ng-hide="mode !== 'list'">Discs</md-subheader>

        <md-button class="absolute-edit md-fab md-secondary" ng-hide="mode !== 'list'" ng-click="mode = 'edit'">
            <md-icon >edit</md-icon>
        </md-button>
    </md-toolbar>
    <md-content ng-if="mode !== 'add'" id="discs-container" flex>
        <md-card>
            <md-list>
                <md-list-item class="md-1-line" ng-repeat="disk in collection.discs">
                    <div class="md-list-item-text">
                        <h4>{{disk.name}}</h3>
                    </div>
                    <md-divider ng-if="!$last"></md-divider>
                </md-list-item>
            </md-list>
        </md-card>
    </md-content>
    <md-button class="fixed-add md-fab md-secondary" ng-hide="mode !== 'list'" ng-click="mode = 'add'">
        <md-icon >add</md-icon>
    </md-button>
    <md-content class="add-disc-container" ng-if="mode === 'add'" ng-controller="addDiscController">
        <md-card>
            <md-toolbar md-scroll-shrink class="md-accent" flex>
                <div class="md-toolbar-tools">
                    <h2 flex md-truncate>Select a disc to add</h2>
                </div>
            </md-toolbar>
            
            <form>
                <md-autocomplete md-selected-item="selectedItem" md-search-text="searchText" md-items="item in query(searchText)" md-item-text="item.name", md-no-cache="true" placeholder="Type to search for a disc">
                    <md-item-template>
                        <span md-highlight-text="searchText">{{item.name}}</span>
                    </md-item-template>
                    <div ng-messages="autocompleteForm.autocomplete.$error">
                        <div ng-message="required">This field is required</div>
                    </div>
                </md-autocomplete>
            

                <md-card-actions layout="row" layout-align="end center">
                    <md-button ng-click="cancel()">Cancel</md-button>
                    <md-button ng-submit ng-click="add()" class="md-warn">Add</md-button>
                </md-card-actions>
            </form>
        </md-card>
    </md-content>
</div>
